---
title: "Audio Visualizers"
publishedAt: "2025-03-12"
summary: "Creating reactive audio visualizations with Web Audio API"
---

# Exploring Milkdrop 2.0 Integration for Live Music Visualization

As a self proclaimed producer and developer, I've always been fascinated by the intersection of audio and visual experiences. Recently, I've been exploring ways to integrate Milkdrop 2.0, the legendary Winamp visualizer, into modern web applications for live music visualization.

## What is Milkdrop?

Milkdrop, originally created by Ryan Geiss for Winamp, is one of the most sophisticated real-time music visualization engines ever created. Its second iteration, Milkdrop 2.0, offers an incredible array of psychedelic visual effects that react to audio input in real-time.

## The Technical Challenge

Integrating Milkdrop 2.0 with modern DJ equipment like Pioneer CDJs or synthesizers presents several interesting challenges:

1. **Audio Input Processing**: Capturing live audio from physical devices requires careful handling of the Web Audio API
2. **WebGL Rendering**: Converting Milkdrop's DirectX-based rendering to work with WebGL
3. **Performance Optimization**: Ensuring smooth 60fps performance while processing audio and rendering complex visualizations

## Implementation Approach

The core implementation involves several key components:

1. **Audio Input Handling**: Using the Web Audio API to capture live audio from the device
2. **Visualization Rendering**: Implementing Milkdrop's rendering engine in WebGL
3. **Performance Optimization**: Implementing efficient audio processing and rendering techniques

## Integration Challenges

The main challenge was to convert Milkdrop's DirectX-based rendering to work with WebGL. This required a deep understanding of the Milkdrop shader language and how to translate it to WebGL.

## Performance Optimization

To ensure smooth 60fps performance, I implemented several techniques:

1. **Audio Processing**: Using the Web Audio API to capture live audio from the device
2. **Visualization Rendering**: Implementing Milkdrop's rendering engine in WebGL
3. **Performance Optimization**: Implementing efficient audio processing and rendering techniques

### Butterchurn Integration

<a href="https://github.com/jberg/butterchurn" target="_blank">Butterchurn</a>, a WebGL implementation of Milkdrop 2.0, has been invaluable in this project. It provides a modern, web-friendly way to render Milkdrop presets.

## Current Status

The project is currently in R&D phase, with working prototypes showing promising results. Key achievements include:

- Successful real-time audio capture from external sources
- Minimal latency between audio input and visual response
- Smooth rendering of complex Milkdrop presets
- Support for custom preset loading

## Next Steps

Future development will focus on:

1. Improving audio input flexibility for various devices
2. Creating a user-friendly interface for preset management
3. Optimizing performance for lower-end devices
4. Adding MIDI control support for live visual manipulation

Stay tuned for updates as this project develops further!


# Web Page Audio Interfacing

Integrating an audio output stream into a web page from a user computer presents some interesting challenges.

```
audiooutputs cannot be accessed for privacy, only audioinputs (and only after confirming with the user). On Windows you can enable "stereo mix" that routes all outputs to a virtual input, and you can use that, but it requires all users to have stereo mix enabled...

The visualizers you see are using the buffer or source that they created so of course they have access to it.
``` 

<a href="https://stackoverflow.com/questions/58016209/can-i-access-the-local-audio-output-stream-from-chrome-using-the-webaudio-api" target="_blank">https://stackoverflow.com/questions/58016209/can-i-access-the-local-audio-output-stream-from-chrome-using-the-webaudio-api</a>

This comment lead me to understanding how Chrome routes your audio. But this also means I can make any audio visualizer. (on chrome)

<a href="https://www.forritun.dev/projects/waveform" target="_blank">https://www.forritun.dev/projects/waveform</a>

Then integrating butterchurn:

<a href="https://www.forritun.dev/projects/butterchurn" target="_blank">https://www.forritun.dev/projects/butterchurn</a>


## Resources

- <a href="https://github.com/jberg/butterchurn" target="_blank">Butterchurn GitHub Repository</a>
- <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API" target="_blank">Web Audio API Documentation</a>
- <a href="https://webglfundamentals.org/" target="_blank">WebGL Fundamentals</a>
